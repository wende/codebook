This file is a diff of a feature specification. I want you to change the code to match the new spec.

# Review Tasks

<diff file="codebook/TASKS.md">
```diff
diff --git a/codebook/TASKS.md b/codebook/TASKS.md
index 784b243..ad57944 100644
--- a/codebook/TASKS.md
+++ b/codebook/TASKS.md
@@ -91,6 +91,31 @@ By default, `task new` only includes files that have uncommitted changes (staged
 
 The title is converted to `UPPER_SNAKE_CASE` for the filename.
 
+## Review Tasks
+
+Tasks can mark files that has been reviewed during the task execution.
+For that add following to the tasks frontmatter:
+
+```markdown
+---
+reviewed:
+  - path/to/file.md:sha
+  - path/to/another/file.md:sha
+---
+```
+
+Where `sha` is the SHA of the last commit during the task execution.
+This will mark the files as covered by the task, for all lines that were commited
+at or before the `sha` commit.
+
+Coverage is calculated by using git blame and commit ancestry.
+
+A helper command is provided to mark the files as reviewed:
+```bash
+codebook task mark-reviewed path/to/file.md:sha
+```
+That assigns the file reviewed status to the ongoing task.
+
 ## Examples
 
 ### Capture modified docs
```
</diff>

---
After completing the task, please update the task file with:
- Description of the feature task that was requested
- Short description of the changes that were made and why
Include implemenentation details how the task was implemented.
Do not include code snippets. Only describe the functional changes that were made.
Do not remove diff lines from the task file.
--- FEATURE TASK ---
Add support for marking files as "reviewed" in task frontmatter, allowing manual coverage tracking for files that were reviewed during task execution without requiring commits to be directly linked to the task file.

--- NOTES ---
The feature extends the existing coverage tracking system. Previously, coverage was only calculated by finding commits that touched task files. Now, coverage can also be specified explicitly via a `reviewed` field in task frontmatter.

--- SOLUTION ---
**Implementation Details:**

1. **New Helper Functions in `cli.py`:**
   - `_parse_task_frontmatter(content: str)`: Parses YAML frontmatter from task files to extract the `reviewed` field
   - `_is_ancestor_commit(ancestor_sha, descendant_sha, git_root)`: Uses `git merge-base --is-ancestor` to check if a commit is an ancestor of another
   - `_extract_reviewed_files(tasks_dir)`: Extracts `path:sha` pairs from all task frontmatter, returning a dict mapping file paths to list of (sha, task_name) tuples

2. **Modified `task_coverage` Command:**
   - Now extracts both traditional task commits (via git blame on task files) AND reviewed file entries from frontmatter
   - For each line in analyzed files, first checks if the line's commit is in task_commits (traditional method)
   - If not covered traditionally, checks if the line's commit is an ancestor of any reviewed SHA for that file
   - Uses caching to avoid redundant `git merge-base` calls

3. **Coverage Logic:**
   - A line is marked as covered if its commit SHA is an ancestor of (or equal to) the reviewed SHA
   - This means if you review a file at commit X, all lines that existed at or before commit X are considered covered
   - Lines added after the reviewed SHA are NOT covered (requiring a new review)

4. **Output Changes:**
   - When reviewed files are found, displays "Found N reviewed file(s) in task frontmatter" in coverage output
   - Coverage reports now include lines covered via both methods

5. **New `mark-reviewed` Command:**
   - Added `codebook task mark-reviewed path/to/file` command
   - SHA is optional - automatically resolves to HEAD when not provided
   - Can also use explicit SHA: `codebook task mark-reviewed path/to/file:sha`
   - Automatically finds the ongoing task (most recent untracked/modified task file)
   - Parses and updates task frontmatter to add/append reviewed entries
   - Resolves git refs like HEAD to actual commit SHAs
   - Supports `--task` option to specify a specific task file

6. **Additional Helper Functions:**
   - `_find_ongoing_task(tasks_dir)`: Finds the most recent untracked/modified task file
   - `_add_reviewed_to_task(task_file, file_sha)`: Adds/appends reviewed entry to task frontmatter

7. **Tests Added:**
   - `test_task_coverage_with_reviewed_files`: Basic reviewed frontmatter support
   - `test_task_coverage_reviewed_ancestor_commits`: Verifies ancestor commits are covered
   - `test_task_coverage_reviewed_not_ancestor`: Verifies commits after review SHA are not covered
   - `test_task_coverage_multiple_reviewed_entries`: Multiple file reviews in one task
   - `test_task_mark_reviewed_*`: 8 tests for the new mark-reviewed command