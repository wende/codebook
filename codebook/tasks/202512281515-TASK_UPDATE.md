This file is a diff of a feature specification. I want you to change the code to match the new spec.

# Task update

```diff
diff --git a/codebook/TASKS.md b/codebook/TASKS.md
index b782da2..0376bf0 100644
--- a/codebook/TASKS.md
+++ b/codebook/TASKS.md
@@ -10,6 +10,13 @@ codebook task new "Title of the task" ./scope
 
 This creates `.codebook/tasks/YYYYMMDDHHMM-TITLE_OF_THE_TASK.md` containing git diffs for each modified file.
 
+In case documentation files were modified during the task execution you can run
+```bash
+codebook task update ./PATH_TO_THE_TASK_FILE ./scope
+
+```
+This will update the task file with the new diffs to the documentation files in the scope.
+
 ## Listing Tasks
 
 View all existing tasks:
@@ -174,7 +181,7 @@ The stats are calculated for each task by
  - the number of lines covered by the task.
  - features modified by the task 
 
-Rendered by CodeBook [`026a01a`](codebook:codebook.version)
+Rendered by CodeBook [`d374531`](codebook:codebook.version)
 
 --- BACKLINKS ---
 [Tasks](README.md "codebook:backlink")
```

---
After completing the task, please update the task file with:
- Description of the feature task that was requested
- Short description of the changes that were made and why
Include implemenentation details how the task was implemented.
Do not include code snippets. Only describe the functional changes that were made.
Do not remove diff lines from the task file.
```diff
diff --git a/codebook/CONFIGURATION.md b/codebook/CONFIGURATION.md
index fa2f5bc..8c38a44 100644
--- a/codebook/CONFIGURATION.md
+++ b/codebook/CONFIGURATION.md
@@ -185,8 +185,9 @@ codebook watch docs/ --exec --cicada
 
 ---
 
-Rendered by CodeBook [`026a01a`](codebook:codebook.version)
+Rendered by CodeBook [`d374531`](codebook:codebook.version)
 
 --- BACKLINKS ---
+[codebook.yml](AI_HELPERS.md "codebook:backlink")
 [Configuration](CLIENT_SERVER.md "codebook:backlink")
 [Configuration](README.md "codebook:backlink")
```

```diff
diff --git a/codebook/README.md b/codebook/README.md
index c83be5d..c51746c 100644
--- a/codebook/README.md
+++ b/codebook/README.md
@@ -29,6 +29,7 @@ codebook run
 - **[Configuration](CONFIGURATION.md)** - YAML config reference
 - **[Frontmatter](FRONTMATTER.md)** - YAML frontmatter support
 - **[Tasks](TASKS.md)** - Task management
+- **[AI Helpers](AI_HELPERS.md)** - AI helpers for task review
 - **[Edge Cases](edge-cases/README.md)** - Implementation details and behaviors
 
 ## CLI Commands
@@ -54,7 +55,7 @@ codebook run
 
 | Metric    | Value                               |
 | --------- | ----------------------------------- |
-| Version   | [`026a01a`](codebook:codebook.version)  |
+| Version   | [`d374531`](codebook:codebook.version)  |
 
 ## Documentation Files
 
@@ -62,4 +63,4 @@ codebook run
 
 ---
  
-Rendered by CodeBook [`026a01a`](codebook:codebook.version)
+Rendered by CodeBook [`d374531`](codebook:codebook.version)
```

```diff
diff --git a/codebook/tasks/202512281515-TASK_UPDATE.md b/codebook/tasks/202512281515-TASK_UPDATE.md
new file mode 100644
index 0000000..d3377d4
--- /dev/null
+++ b/codebook/tasks/202512281515-TASK_UPDATE.md
@@ -0,0 +1,63 @@
+This file is a diff of a feature specification. I want you to change the code to match the new spec.
+
+# Task update
+
+```diff
+diff --git a/codebook/TASKS.md b/codebook/TASKS.md
+index b782da2..0376bf0 100644
+--- a/codebook/TASKS.md
++++ b/codebook/TASKS.md
+@@ -10,6 +10,13 @@ codebook task new "Title of the task" ./scope
+ 
+ This creates `.codebook/tasks/YYYYMMDDHHMM-TITLE_OF_THE_TASK.md` containing git diffs for each modified file.
+ 
++In case documentation files were modified during the task execution you can run
++```bash
++codebook task update ./PATH_TO_THE_TASK_FILE ./scope
++
++```
++This will update the task file with the new diffs to the documentation files in the scope.
++
+ ## Listing Tasks
+ 
+ View all existing tasks:
+@@ -174,7 +181,7 @@ The stats are calculated for each task by
+  - the number of lines covered by the task.
+  - features modified by the task 
+ 
+-Rendered by CodeBook [`026a01a`](codebook:codebook.version)
++Rendered by CodeBook [`d374531`](codebook:codebook.version)
+ 
+ --- BACKLINKS ---
+ [Tasks](README.md "codebook:backlink")
+```
+
+---
+After completing the task, please update the task file with:
+- Description of the feature task that was requested
+- Short description of the changes that were made and why
+Include implemenentation details how the task was implemented.
+Do not include code snippets. Only describe the functional changes that were made.
+Do not remove diff lines from the task file.
+--- FEATURE TASK ---
+Add a `codebook task update` command that allows updating an existing task file with new diffs for documentation files that were modified after the initial task creation. This is useful when documentation evolves during task execution and those changes need to be captured in the same task file.
+
+--- NOTES ---
+The implementation reuses the same git diff generation logic from `task new` but applies it selectively to files not already present in the task. Footer markers (NOTES, SOLUTION, FEATURE TASK) are preserved by inserting new diffs before them.
+
+--- SOLUTION ---
+Added `task_update` command to cli.py with the following functionality:
+
+1. **Arguments**: Takes two positional arguments - the task file path and the scope (file or directory)
+
+2. **Diff extraction**: Parses the existing task file to extract file paths already documented using regex matching on `diff --git a/path b/path` headers
+
+3. **File filtering**: Identifies modified/untracked markdown files in scope that are not already included in the task file
+
+4. **Git diff generation**: Generates diffs for new files using `git diff` for tracked files and `git diff --no-index /dev/null` for untracked files
+
+5. **Content insertion**: Inserts new diffs before any footer markers (--- FEATURE TASK ---, --- NOTES ---, --- SOLUTION ---) to preserve the task structure, or appends at the end if no markers exist
+
+6. **Output**: Reports the number of files added to the task
+
+Tests added covering: help display, adding new diffs, handling no-new-files case, footer preservation, and directory scope with multiple files.
```

--- FEATURE TASK ---
Add a `codebook task update` command that allows updating an existing task file with new diffs for documentation files that were modified after the initial task creation. This is useful when documentation evolves during task execution and those changes need to be captured in the same task file.

--- NOTES ---
The implementation reuses the same git diff generation logic from `task new` but applies it selectively to files not already present in the task. Footer markers (NOTES, SOLUTION, FEATURE TASK) are preserved by inserting new diffs before them.

--- SOLUTION ---
Added `task_update` command to cli.py with the following functionality:

1. **Arguments**: Takes two positional arguments - the task file path and the scope (file or directory)

2. **Diff extraction**: Parses the existing task file to extract file paths already documented using regex matching on `diff --git a/path b/path` headers

3. **File filtering**: Identifies modified/untracked markdown files in scope that are not already included in the task file

4. **Git diff generation**: Generates diffs for new files using `git diff` for tracked files and `git diff --no-index /dev/null` for untracked files

5. **Content insertion**: Inserts new diffs before any footer markers (--- FEATURE TASK ---, --- NOTES ---, --- SOLUTION ---) to preserve the task structure, or appends at the end if no markers exist

6. **Output**: Reports the number of files added to the task

Tests added covering: help display, adding new diffs, handling no-new-files case, footer preservation, and directory scope with multiple files.
