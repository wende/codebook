This file is a diff of a feature specification. I want you to change the code to match the new spec.

# Worktrees

```diff
diff --git a/.codebook/TASKS.md b/.codebook/TASKS.md
index 9490140..914d3c7 100644
--- a/.codebook/TASKS.md
+++ b/.codebook/TASKS.md
@@ -117,6 +117,17 @@ diff --git a/path/to/file.md b/path/to/file.md
 \`\`\`
 ```
 
+## Worktrees
+```bash
+codebook task new "Theme Support" ./docs --worktree
+```
+
+Creates new worktree for task
+Copies uncommitted doc changes to worktree
+Reverts scoped doc changes on the source branch 
+The task is created in the worktree instead of the source branch.
+This prepares a new isolated environment to work in without affecting the source branch.
+
 ## Use Cases
 
 - **Pre-commit review**: Capture state before committing documentation changes
@@ -162,7 +173,7 @@ The stats are calculated for each task by
  - the number of lines covered by the task.
  - features modified by the task 
 
-Rendered by CodeBook [`026a01a`](codebook:codebook.version)
+Rendered by CodeBook [`026a01a`](codebook:codebook.version)
 
 --- BACKLINKS ---
 [Tasks](README.md "codebook:backlink")
```

---
After completing the task, please update the task file with:
- Description of the feature task that was requested
- Short description of the changes that were made and why
Include implemenentation details how the task was implemented.
Do not include code snippets. Only describe the functional changes that were made.
Do not remove diff lines from the task file.

--- FEATURE TASK ---
Implement git worktree support for the `codebook task new` command. This allows users to create tasks in isolated git worktrees, enabling parallel work on multiple documentation tasks without conflicts.

--- NOTES ---
The feature adds a `--worktree` flag to the `codebook task new` command. When used, it:
1. Creates a new git worktree in a sibling directory to the repository
2. Creates a new branch for the task (named `task/YYYYMMDDHHMM-task_name`)
3. Copies all uncommitted changes within the specified scope to the worktree
4. Reverts those changes in the source branch
5. Creates the task file in the worktree instead of the source branch

This enables developers to work on documentation tasks in isolation without affecting their main working tree.

--- SOLUTION ---

## Implementation Details

### CLI Changes
Added a `--worktree` flag to the `task new` command in `src/codebook/cli.py`. The flag is optional and defaults to False for backward compatibility.

### Helper Function
Created `_create_task_worktree()` function that:
- Gets the git repository root using `git rev-parse --show-toplevel`
- Resolves the scope path relative to the git root
- Creates a worktree directory named `{rootdir}-{task_name}` as a sibling to the repository (e.g., `codebook-theme_support`)
- Creates a new branch `task-{task_name}` based on the current branch (e.g., `task-theme_support`)
- Uses `git worktree add -b` to create the worktree
- Iterates through modified and untracked files in the scope using `git status --porcelain`
- Copies each file from the source to the worktree using `shutil.copy2`
- Reverts tracked changes in the source branch using `git checkout HEAD -- <scope>`
- Removes untracked files from the source branch
- Returns a tuple of (worktree_path, worktree_scope_path) for the task creation to continue

### Task Creation Flow
When `--worktree` is specified:
1. The worktree is created first
2. The current working directory is changed to the worktree
3. The scope path is updated to point to the location within the worktree
4. Task creation proceeds normally in the worktree context
5. The task file is created in `.codebook/tasks/` within the worktree

### Testing
Added three comprehensive tests:
1. `test_task_new_with_worktree` - Tests basic worktree creation with modified files
2. `test_task_new_with_worktree_untracked_files` - Tests handling of untracked files
3. `test_task_new_with_worktree_no_changes` - Tests edge case with no uncommitted changes

All tests verify:
- Worktree directory creation
- Task file creation in the worktree
- Changes are reverted in the source branch
- Changes are present in the worktree
- Proper cleanup of worktrees after tests

### Documentation
Updated the command docstring to include the `--worktree` flag usage and example.

--- SOLUTION ---
